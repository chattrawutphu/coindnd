const marginClass = $targetParent.find('.ml-section').first();

                        // Extract the margin-left value
                        const targetMlValue = (marginClass.attr('class').match(/\bml-\[(\d+)px\]/) || [])[1] ||
                            ($targetParent.attr('class').match(/\bml-\[(\d+)px\]/) || [])[1];

                        // ปรับ ml-[ตัวเลขpx] class ของ selectedElements
                        $selectedElements.each(function () {
                            const $elementMargin = $(this).find('.ml-section').first();
                            if ($elementMargin.length && targetMlValue) {
                                // หาค่า margin เดิม
                                const oldMargin = parseInt(($elementMargin.attr('class').match(/\bml-\[(\d+)px\]/) || [])[1] || '0');
                                
                                // ลบ ml-[ตัวเลขpx] class เดิม
                                $elementMargin.removeClass(function (index, className) {
                                    return (className.match(/\bml-\[\d+px\]/) || []).join(' ');
                                });
                                
                                // คำนวณค่า margin ใหม่
                                const newMargin = parseInt(targetMlValue) + (dndLine.hasClass("isDropAsChild") ? indent : 0);
                                
                                // เพิ่ม ml-[ตัวเลขpx] class ใหม่
                                $elementMargin.addClass(`ml-[${newMargin}px]`);
                                
                                // คำนวณความแตกต่างระหว่าง margin เก่าและใหม่
                                marginDifference = newMargin - oldMargin;
                        
                                // ดำเนินการกับ child elements
                                const $elementMarginChildren = $(this).find('.ml-section').not(':first');
                                
                                $elementMarginChildren.each(function () {
                                    const oldChildMargin = parseInt(($(this).attr('class').match(/\bml-\[(\d+)px\]/) || [])[1] || '0');
                                    
                                    $(this).removeClass(function (index, className) {
                                        return (className.match(/\bml-\[\d+px\]/) || []).join(' ');
                                    });
                        
                                    // คำนวณ margin ใหม่สำหรับ child โดยเพิ่ม indent
                                    const newMarginChild = newMargin + indent;
                                    
                                    // เพิ่ม ml-[ตัวเลขpx] class ใหม่
                                    $(this).addClass(`ml-[${newMarginChild}px]`);
                        
                                    // อัพเดท marginDifference สำหรับ child ถ้าต้องการ
                                    // marginDifference = Math.max(marginDifference, newMarginChild - oldChildMargin);
                                });
                            }
                        });